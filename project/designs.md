# OmniContext äº§å“è®¾è®¡æ–‡æ¡£

> å€’æ’å¼è®°å½•ï¼Œæœ€æ–°è®°å½•åœ¨æœ€ä¸Šæ–¹ã€‚åªå¢ä¸å‡ã€‚

---

## 2026-03-01 æ‰¹é‡ä¸»åŠ¨æ•è·åŠŸèƒ½è®¾è®¡ï¼ˆå·²å¯¹é½ï¼‰

**æ‘˜è¦ï¼š** ä¸€é”®æ•è· AI å¹³å°æ‰€æœ‰ä¼šè¯å†å²

**æ­£æ–‡ï¼š**

### è®¾è®¡å†³ç­–ï¼ˆå·²ç¡®è®¤ï¼‰
| é¡¹ç›® | å†³å®š |
|------|------|
| å®ç°æ–¹æ¡ˆ | A. è‡ªåŠ¨åŒ– UI æ“ä½œ |
| ç”¨æˆ·æ“ä½œ | å¿…é¡»å‰å°ï¼Œä¸å»ºè®®æ‰“æ–­ |
| åŠŸèƒ½å…¥å£ | Popup ä¸­æŒ‰é’® |

### ç”¨æˆ·æµç¨‹
```
1. ç”¨æˆ·åœ¨è±†åŒ…é¡µé¢æ‰“å¼€ Popup
2. ç‚¹å‡»ã€Œæ‰¹é‡æ•è· è±†åŒ… æ‰€æœ‰ä¼šè¯ã€
3. æ˜¾ç¤ºè¿›åº¦æ¡ï¼šX/Yï¼Œå½“å‰ä¼šè¯æ ‡é¢˜ï¼Œå·²æ•è·æ¶ˆæ¯æ•°
4. å®Œæˆåè‡ªåŠ¨åˆ·æ–°åˆ—è¡¨
```

### æŠ€æœ¯å®ç°
```
Popup â†’ chrome.tabs.sendMessage â†’ Content Script
                                     â†“
                              BatchCapture.start()
                                     â†“
                              1. è·å–ä¼šè¯åˆ—è¡¨å…ƒç´ 
                              2. é€ä¸ªç‚¹å‡»ä¼šè¯
                              3. æ»šåŠ¨åŠ è½½å†å²
                              4. æ•è·å¹¶ä¿å­˜
                              5. å‘é€è¿›åº¦æ›´æ–°
```

### å¹³å°é€‚é…
- è±†åŒ…ï¼šå·²å®ç°åŸºç¡€æ¡†æ¶ï¼ŒDOM é€‰æ‹©å™¨å¾…å®æµ‹éªŒè¯
- å…ƒå®/Claudeï¼šå¾…å®ç°

---

**æ‘˜è¦ï¼š** æ•°æ®å¤‡ä»½ä¸æ¢å¤åŠŸèƒ½

**æ­£æ–‡ï¼š**

### åŠŸèƒ½æ¦‚è¿°
- å¯¼å‡ºï¼šå…¨é‡å¯¼å‡ºæ‰€æœ‰ä¼šè¯ + æ ‡ç­¾ + å…³è”
- å¯¼å…¥ï¼šä»å¤‡ä»½æ–‡ä»¶æ¢å¤æ•°æ®

### è®¾è®¡å†³ç­–ï¼ˆå·²ç¡®è®¤ï¼‰
| é¡¹ç›® | å†³å®š |
|------|------|
| å¯¼å‡ºåŠ å¯† | âŒ æš‚ä¸åš |
| éƒ¨åˆ†å¯¼å‡º | âŒ æš‚ä¸åšï¼ˆå…¨é‡å¯¼å‡ºï¼‰ |
| å¯¼å…¥é¢„è§ˆ | âŒ æš‚ä¸åš |
| UIä½ç½® | Footer åŒºåŸŸ |
| å¯¼å…¥ç¡®è®¤ | æ˜¾ç¤ºæ¨¡å¼é€‰æ‹©å¯¹è¯æ¡† |
| å¯¼å…¥åé¦ˆ | Toast æç¤º |

### UI å¸ƒå±€
```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  ğŸ§  OmniContext                 â”‚
â”‚  ...ä¼šè¯åˆ—è¡¨...                  â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ [ğŸ“¤ å¯¼å‡º] [ğŸ“¥ å¯¼å…¥] [ğŸ”„ åˆ·æ–°]    â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

### å¯¼å‡ºåŠŸèƒ½
- ç‚¹å‡»ã€Œå¯¼å‡ºã€æŒ‰é’®
- æ”¶é›†æ‰€æœ‰æ•°æ®ï¼ˆä¼šè¯ + æ ‡ç­¾ + å…³è”ï¼‰
- ç”Ÿæˆ JSON æ–‡ä»¶å¹¶ä¸‹è½½
- æ–‡ä»¶åï¼š`omnicontext-backup-YYYY-MM-DD.json`
- Toast æç¤ºï¼šã€Œå¤‡ä»½æ–‡ä»¶å·²ä¸‹è½½ã€

### å¯¼å…¥åŠŸèƒ½

**æµç¨‹ï¼š**
1. ç‚¹å‡»ã€Œå¯¼å…¥ã€æŒ‰é’®
2. æ‰“å¼€æ–‡ä»¶é€‰æ‹©å™¨ï¼ˆåªæ¥å— .jsonï¼‰
3. è¯»å–å¹¶éªŒè¯æ–‡ä»¶
4. æ˜¾ç¤ºå¯¼å…¥æ¨¡å¼é€‰æ‹©å¯¹è¯æ¡†
5. ç”¨æˆ·é€‰æ‹©æ¨¡å¼åæ‰§è¡Œå¯¼å…¥
6. Toast æç¤ºç»“æœ

**å¯¼å…¥æ¨¡å¼é€‰æ‹©å¯¹è¯æ¡†ï¼š**
```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  ğŸ“¥ å¯¼å…¥ç¡®è®¤                    â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚  æ–‡ä»¶ï¼šomnicontext-backup.json  â”‚
â”‚  ä¼šè¯æ•°ï¼š25                     â”‚
â”‚  æ ‡ç­¾æ•°ï¼š5                      â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚  å¯¼å…¥æ–¹å¼ï¼š                     â”‚
â”‚  â—‹ åˆå¹¶ï¼ˆä¿ç•™ç°æœ‰ï¼‰- æ¨è       â”‚
â”‚  â—‹ åˆå¹¶ï¼ˆè¦†ç›–å†²çªï¼‰             â”‚
â”‚  â—‹ å®Œå…¨è¦†ç›–ï¼ˆæ¸…ç©ºç°æœ‰æ•°æ®ï¼‰     â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚       [å–æ¶ˆ]  [ç¡®è®¤å¯¼å…¥]        â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

**å¯¼å…¥æ¨¡å¼è¯´æ˜ï¼š**
| æ¨¡å¼ | è¯´æ˜ |
|------|------|
| åˆå¹¶ï¼ˆä¿ç•™ç°æœ‰ï¼‰ | æ–°æ•°æ®å¯¼å…¥ï¼ŒIDå†²çªæ—¶ä¿ç•™æœ¬åœ°æ•°æ® |
| åˆå¹¶ï¼ˆè¦†ç›–å†²çªï¼‰ | æ–°æ•°æ®å¯¼å…¥ï¼ŒIDå†²çªæ—¶ä½¿ç”¨å¯¼å…¥æ•°æ® |
| å®Œå…¨è¦†ç›– | æ¸…ç©ºæœ¬åœ°æ‰€æœ‰æ•°æ®ï¼Œå®Œå…¨ä½¿ç”¨å¯¼å…¥æ•°æ® |

### æ•°æ®ç»“æ„
```typescript
interface ExportData {
  version: string;           // æ ¼å¼ç‰ˆæœ¬å· "1.0"
  exportedAt: string;        // ISO æ—¶é—´æˆ³
  sessions: Session[];       // æ‰€æœ‰ä¼šè¯
  tags: Tag[];               // æ‰€æœ‰æ ‡ç­¾
  sessionTags: Record<string, string[]>;  // ä¼šè¯-æ ‡ç­¾å…³è”
}
```

### Toast æç¤º
- å¯¼å‡ºæˆåŠŸï¼šã€Œå¤‡ä»½æ–‡ä»¶å·²ä¸‹è½½ã€
- å¯¼å…¥æˆåŠŸï¼šã€Œå¯¼å…¥æˆåŠŸï¼šXä¸ªä¼šè¯ï¼ŒXä¸ªæ ‡ç­¾ã€
- å¯¼å…¥å¤±è´¥ï¼šã€Œå¯¼å…¥å¤±è´¥ï¼šæ–‡ä»¶æ ¼å¼æ— æ•ˆã€

---

## 2026-02-28 æœç´¢åŠŸèƒ½è®¾è®¡

**æ‘˜è¦ï¼š** å¿«é€Ÿå®šä½å†å²ä¼šè¯

**æ­£æ–‡ï¼š**

### è¯„å®¡ç»“è®º

| åŠŸèƒ½ | å†³å®š | å¤‡æ³¨ |
|------|------|------|
| å®æ—¶æœç´¢ | âœ… é‡‡ç”¨ | è¾“å…¥å³æœç´¢ï¼Œæ— éœ€å›è½¦ |
| æœç´¢å†å² | âŒ æš‚ä¸åš | è®°å½•åˆ°æœªæ¥åŠŸèƒ½ |
| æ ‡ç­¾ç­›é€‰ | âœ… å¤šé€‰ | ä½œä¸ºé›†åˆåŒ¹é… |
| æ—¶é—´ç­›é€‰ | âŒ æš‚ä¸åš | è®°å½•åˆ°æœªæ¥åŠŸèƒ½ |

### äº¤äº’è®¾è®¡

#### æœç´¢å…¥å£
```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ ğŸ§  OmniContext          [âš™ï¸]   â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ [ğŸ” æœç´¢ä¼šè¯...        ] [Ã—]   â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ [è±†åŒ… â–¼] [æ ‡ç­¾ â–¼]               â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ â–¼ è±†åŒ… (5)                      â”‚
â”‚   â””â”€ ä¼šè¯åˆ—è¡¨...                â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

#### æœç´¢ç»“æœé«˜äº®
```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ ğŸ“ å¦‚ä½•å®ç°**æ·±åº¦å­¦ä¹ **æ¨¡å‹...  â”‚
â”‚    è±†åŒ… Â· 3æ¡æ¶ˆæ¯ Â· ä»Šå¤©        â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

### æŠ€æœ¯æ–¹æ¡ˆ
- é˜²æŠ–æœç´¢ï¼š300ms
- æœç´¢èŒƒå›´ï¼šæ ‡é¢˜ + æ¶ˆæ¯å†…å®¹
- é«˜äº®åŒ¹é…ï¼š`<span class="highlight">`

---

## 2026-02-28 æ€è€ƒæ¨¡å¼é€šç”¨æ¶æ„è®¾è®¡

**æ‘˜è¦ï¼š** è®¾è®¡è·¨å¹³å°æ€è€ƒæ¨¡å¼å†…å®¹è¿‡æ»¤æ–¹æ¡ˆ

**æ­£æ–‡ï¼š**

### èƒŒæ™¯
ä¸»æµAIå¹³å°ï¼ˆè±†åŒ…ã€å…ƒå®ã€Claudeï¼‰éƒ½æ¨å‡ºäº†"æ€è€ƒæ¨¡å¼"åŠŸèƒ½ï¼š
- è±†åŒ…ï¼šæ€è€ƒåŠŸèƒ½
- å…ƒå®ï¼šæ·±åº¦æ€è€ƒ
- Claudeï¼šExtended Thinking

è¿™äº›åŠŸèƒ½ä¼šåœ¨å›ç­”å‰æ˜¾ç¤ºæ€è€ƒè¿‡ç¨‹ï¼Œä½†ç”¨æˆ·æ³¨å…¥ä¸Šä¸‹æ–‡æ—¶é€šå¸¸åªéœ€è¦æœ€ç»ˆå›ç­”ã€‚

### æ¶æ„è®¾è®¡

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚              extractMessages()                       â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”â”‚
â”‚  â”‚ if (platform === 'doubao') â†’ extractDoubaoMessages()
â”‚  â”‚ if (platform === 'yuanbao') â†’ extractYuanbaoMessages()
â”‚  â”‚ if (platform === 'claude') â†’ extractClaudeMessages()
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

### å„å¹³å°æ€è€ƒæ¨¡å¼å¤„ç†

#### è±†åŒ… (Doubao)
```typescript
// é€‰æ‹©å™¨
'[class*="message-block-container"]'
'[class*="bg-s-color-bg-trans"]'  // ç”¨æˆ·æ ‡è¯†

// æ€è€ƒè¯†åˆ«
'[class*="answer-content"], [class*="final-answer"]'
æ€è€ƒä¸­... | thinking...
```

#### å…ƒå® (Yuanbao)
```typescript
// é€‰æ‹©å™¨
'[class*="message-list"], [class*="chat-list"]'
'[class*="user-message"], [class*="assistant-message"]'

// æ€è€ƒè¯†åˆ«
æ€è€ƒè¿‡ç¨‹ | æ€è€ƒä¸­ | æ­£åœ¨æ€è€ƒ | Think | Thinking
'[class*="thinking"], [class*="thought"], [class*="reasoning"]'
```

#### Claude
```typescript
// é€‰æ‹©å™¨
'[class*="conversation"], [class*="messages"]'
'[class*="human"], [class*="assistant"]'

// æ€è€ƒè¯†åˆ« (Extended Thinking)
'[class*="thinking"], [class*="thought"], [data-thinking]'
Thinking: | Extended thinking | Let me think
<thinking>...</thinking> | [Thinking]...[/Thinking]
```

### é€šç”¨å¤„ç†æµç¨‹

```
1. æŸ¥æ‰¾æ¶ˆæ¯å®¹å™¨
   â†“
2. éå†æ¶ˆæ¯å—
   â†“
3. åˆ¤æ–­è§’è‰²ï¼ˆç”¨æˆ·/åŠ©æ‰‹ï¼‰
   â†“
4. åŠ©æ‰‹æ¶ˆæ¯ â†’ æ£€æµ‹æ€è€ƒåŒºå—
   â†“
5. å…‹éš†DOMï¼Œç§»é™¤æ€è€ƒå†…å®¹
   â†“
6. è¿”å›çº¯å‡€çš„æœ€ç»ˆå›ç­”
```

### æ–¹æ³•ç­¾å

```typescript
// å„å¹³å°ä¸“ç”¨æå–
private extractDoubaoMessages(): Message[]
private extractYuanbaoMessages(): Message[]
private extractClaudeMessages(): Message[]

// æ€è€ƒå†…å®¹è¯†åˆ«
private isDoubaoThinkingContent(text: string): boolean
private isYuanbaoThinkingContent(text: string): boolean
private isClaudeThinkingContent(text: string): boolean

// å†…å®¹æ¸…ç†
private extractDoubaoAssistantContent(element: Element): string
private extractYuanbaoAssistantContent(element: Element): string
private extractClaudeAssistantContent(element: Element): string
```

---

## 2026-02-27 AgenticEngineering æ–‡æ¡£ä½“ç³»

**æ‘˜è¦ï¼š** å»ºç«‹é¢å‘Agentåä½œçš„é¡¹ç›®ç®¡ç†è§„èŒƒ

**æ­£æ–‡ï¼š**

### æ–‡æ¡£ç»„ç»‡åŸåˆ™

| åŸåˆ™ | è¯´æ˜ |
|------|------|
| åªå¢ä¸å‡ | å†å²è®°å½•ä¿ç•™ï¼Œæ–°å†…å®¹è¿½åŠ  |
| å€’æ’è®°å½• | æœ€æ–°å†…å®¹åœ¨ä¸Šæ–¹ï¼Œä¾¿äºæŸ¥çœ‹ |
| ç»“æ„åŒ– | æ—¶é—´ + æ‘˜è¦ + æ­£æ–‡ä¸‰å±‚ç»“æ„ |
| Markdown | çº¯æ–‡æœ¬ã€ç‰ˆæœ¬å‹å¥½ã€Agentå¯è¯» |

### æ–‡æ¡£èŒè´£åˆ’åˆ†

| æ–‡æ¡£ | èŒè´£ |
|------|------|
| `worklog.md` | å·¥ä½œæ—¥å¿—ã€é‡Œç¨‹ç¢‘ã€é˜¶æ®µæ€§è¿›å±• |
| `designs.md` | äº§å“è®¾è®¡ã€æŠ€æœ¯æ–¹æ¡ˆã€æ¶æ„å†³ç­– |

---

## 2026-02-27 å“ç‰Œä¸å‘½åè§„èŒƒ

**æ‘˜è¦ï¼š** é¡¹ç›®æ­£å¼å‘½åä¸º OmniContext

**æ­£æ–‡ï¼š**

### å“ç‰Œå«ä¹‰
- **Omni**ï¼šå…¨åŸŸã€å…¨å¹³å°
- **Context**ï¼šä¸Šä¸‹æ–‡ã€è¯­å¢ƒã€è®°å¿†

### GitHubæè¿°
```
Seamlessly share chat context across different AI assistants (including Doubao and more) with conversation auto-captures and one-click context injection.

åœ¨ä¸åŒAIåŠ©æ‰‹é—´æ— ç¼å…±äº«å¯¹è¯ä¸Šä¸‹æ–‡ï¼Œæ”¯æŒè±†åŒ…ã€å…ƒå®ã€Claudeç­‰å¹³å°ï¼Œè‡ªåŠ¨æ•è·èŠå¤©è®°å½•ï¼Œä¸€é”®æ³¨å…¥ä¸Šä¸‹æ–‡ï¼Œè®©AIåä½œæ›´è¿è´¯ã€‚
```

### æŠ€æœ¯å‘½åè§„èŒƒ
- å­˜å‚¨é”®åï¼š`sessions`
- Session IDï¼š`{platform}-{timestamp}` æˆ– URLæå–çš„ID
- æ§åˆ¶å°å‰ç¼€ï¼š`[OmniContext]`

---

## 2026-02-27 æ„å»ºä¸éƒ¨ç½²æµç¨‹

**æ‘˜è¦ï¼š** æ ‡å‡†åŒ–å¼€å‘æµ‹è¯•æµç¨‹

**æ­£æ–‡ï¼š**

### å¼€å‘æµç¨‹
```
ç¼–ç  â†’ æµ‹è¯• (npm test) â†’ æ„å»º (npm run build) â†’ å¤åˆ¶åˆ°æ¡Œé¢ â†’ ChromeåŠ è½½æµ‹è¯•
```

### æ¡Œé¢éƒ¨ç½²
- ç›®æ ‡è·¯å¾„ï¼š`C:\Users\73523\Desktop\OmniContext\`
- å†…å®¹ï¼šdist/ ç›®å½•å®Œæ•´å¤åˆ¶
- ChromeåŠ è½½ï¼š`chrome://extensions/` â†’ åŠ è½½å·²è§£å‹çš„æ‰©å±•ç¨‹åº

---

## 2026-02-26 è±†åŒ…å¹³å°DOMè§£ææ–¹æ¡ˆ

**æ‘˜è¦ï¼š** CSS Modulesç¯å¢ƒä¸‹çš„é€‰æ‹©å™¨ç­–ç•¥

**æ­£æ–‡ï¼š**

### é—®é¢˜
è±†åŒ…ä½¿ç”¨CSS Modulesï¼Œç±»ååŒ…å«éšæœºå“ˆå¸Œï¼ˆå¦‚ `message-block-container-PggqdK`ï¼‰

### è§£å†³æ–¹æ¡ˆ
```typescript
// ä½¿ç”¨å±æ€§åŒ…å«é€‰æ‹©å™¨
const messageBlocks = document.querySelectorAll('[class*="message-block-container"]');

// åŒºåˆ†ç”¨æˆ·æ¶ˆæ¯ï¼šæ£€æŸ¥æ˜¯å¦å­˜åœ¨ç”¨æˆ·æ ·å¼ç±»
const isUser = block.querySelector('[class*="bg-s-color-bg-trans"]') !== null;
```

### é€‰æ‹©å™¨é…ç½®
| å…ƒç´  | é€‰æ‹©å™¨ |
|------|--------|
| æ¶ˆæ¯å— | `[class*="message-block-container"]` |
| ç”¨æˆ·æ ‡è¯† | `[class*="bg-s-color-bg-trans"]` |
| å†…å®¹å®¹å™¨ | `[class*="container-"]` |

---

## 2026-02-26 è½¯ä»¶æ¶æ„è®¾è®¡

**æ‘˜è¦ï¼š** Chromeæ‰©å±•Manifest V3æ¶æ„

**æ­£æ–‡ï¼š**

### æ¶æ„å›¾
```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚           Chrome Extension              â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”‚
â”‚  â”‚ Content â”‚ â”‚Backgroundâ”‚ â”‚  Popup   â”‚ â”‚
â”‚  â”‚ Script  â”‚ â”‚  Script  â”‚ â”‚   UI     â”‚ â”‚
â”‚  â””â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”˜ â””â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”˜ â””â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”˜ â”‚
â”‚       â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜         â”‚
â”‚              chrome.storage              â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

### æ¨¡å—èŒè´£
| æ¨¡å— | èŒè´£ |
|------|------|
| Content Script | é¡µé¢DOMç›‘å¬ã€æ¶ˆæ¯æå– |
| Background | ç”Ÿå‘½å‘¨æœŸç®¡ç†ã€å›¾æ ‡çŠ¶æ€ |
| Popup | ç”¨æˆ·ç•Œé¢ã€ä¼šè¯ç®¡ç† |
| Storage | IndexedDBå°è£…ã€CRUD |
| Extractor | å¹³å°ç‰¹å®šé€‰æ‹©å™¨ã€DOMè§£æ |
| Formatter | æ ¼å¼åŒ–è¾“å‡ºã€å‰ªè´´æ¿æ“ä½œ |

### æ•°æ®æµ
```
AIå¹³å°é¡µé¢ â†’ Content Script â†’ Extractor â†’ Storage â†’ Popupæ˜¾ç¤º â†’ å¤åˆ¶æ³¨å…¥
```

---

## 2026-02-26 äº§å“åŠŸèƒ½è®¾è®¡

**æ‘˜è¦ï¼š** MVPåŠŸèƒ½å®šä¹‰ä¸æ•°æ®æ¨¡å‹

**æ­£æ–‡ï¼š**

### æ ¸å¿ƒåŠŸèƒ½
1. **è‡ªåŠ¨æ•è·**ï¼šè®¿é—®è±†åŒ…/å…ƒå®/Claudeæ—¶è‡ªåŠ¨è®°å½•å¯¹è¯
2. **Sessionç®¡ç†**ï¼šæŒ‰å¹³å°åˆ†ç»„ã€ç¼–è¾‘æ ‡é¢˜ã€åˆ é™¤ä¼šè¯
3. **ä¸Šä¸‹æ–‡æ³¨å…¥**ï¼šé€‰æ‹©å†å²ä¼šè¯ï¼Œæ ¼å¼åŒ–å¤åˆ¶åˆ°å‰ªè´´æ¿
4. **æ•°æ®å¯¼å‡º**ï¼šJSONæ ¼å¼å¤‡ä»½

### æ•°æ®æ¨¡å‹
```typescript
interface Session {
  id: string;              // å”¯ä¸€æ ‡è¯†
  platform: Platform;      // å¹³å°ç±»å‹
  title: string;           // ä¼šè¯æ ‡é¢˜ï¼ˆå¯ç¼–è¾‘ï¼‰
  sourceUrl: string;       // æ¥æºé“¾æ¥
  createdAt: number;       // åˆ›å»ºæ—¶é—´
  updatedAt: number;       // æ›´æ–°æ—¶é—´
  messages: Message[];     // æ¶ˆæ¯åˆ—è¡¨
  messageCount: number;    // æ¶ˆæ¯æ•°é‡
}

interface Message {
  id: string;
  role: 'user' | 'assistant';
  content: string;
  timestamp: number;
}
```

### æ³¨å…¥æ ¼å¼æ¨¡æ¿
```markdown
ã€ä¸Šä¸‹æ–‡å¼•ç”¨ã€‘
ä»¥ä¸‹æ˜¯æˆ‘ä¹‹å‰åœ¨{å¹³å°å}çš„å¯¹è¯è®°å½•ï¼š

---
ä¼šè¯: {æ ‡é¢˜}
æ—¥æœŸ: {YYYY-MM-DD}

[ç”¨æˆ·] {å†…å®¹}
[{å¹³å°}] {å›å¤}
...
---

åŸºäºä»¥ä¸ŠèƒŒæ™¯ï¼Œè¯·å¸®æˆ‘ç»§ç»­...
```

---
